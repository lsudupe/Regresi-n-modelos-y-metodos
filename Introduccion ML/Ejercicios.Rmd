---
title: "Introduccion a ML. Ejercicios"
author: "Laura Sudupe Medinilla"
date: "17/2/2021"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



```{r}
# Función para cargar todos los paquetes necesarios
LoadLibraries <- function() {
  myLibraries <- c("faraway", "ggplot2", "dplyr", "cowplot", "scales")
  invisible(lapply(myLibraries, library, character.only = TRUE))
}
LoadLibraries()
```


```{r}
install.packages("scales")
```



EJERCICIOS FARADAY.

1. The dataset teengamb concerns a study of teenage gambling in Britain. Make a
numerical and graphical summary of the data, commenting on any features that
you find interesting. Limit the output you present to a quantity that a busy 
reader would find sufficient to get a basic understanding of the data.

```{r}
# Cargamos el paquete
data <- teengamb
rownames(data) <- c(1:nrow(data))
```

```{r}
#Vamos a ver los datos que lo componen
head(data)
dim(data) #número de filas y columnas
str(data) #estructura de las variables
```
Vemos que tenemos 5 columnas y 47 filas. Todos los valores son numericos, vemos
que la variable sex es categorica

```{r}
data$sex <- factor(data$sex, levels = c(0,1), labels = c("man", "woman"))
summary(data)
```
```{r}
sum(is.na(data))
```

Vamos a realizar algunas representaciónes para estudiar los datos
```{r}
#Veamos a ver los valores de gamble y status  segun el sexo

par(mfrow=c(1,2))
boxplot(data$gamble ~ data$sex, xlab= "Sexo", ylab="Gasto en el juego", 
        col= c(col= rgb(red = 0, green = 0, blue = 1, alpha= 0.45),
               col= rgb(red = 1, green = 0, blue = 0, alpha = 0.45)))

boxplot(data$status ~ data$sex, xlab= "Sexo", ylab="Estatus socioeconomico", 
        col= c(col= rgb(red = 0, green = 0, blue = 1, alpha= 0.45),
               col= rgb(red = 1, green = 0, blue = 0, alpha = 0.45)))

```

Vemos que hay una diferencia considerable, para el grupo de los hombres tenemos 
mayores valores tanto en el gasto en el juego como en el estatus socioeconomico

```{r}
#Veamos como se distribuye los ingresos dependiendo el sexo
data%>%
ggplot(aes(x = income, fill = sex)) + geom_density(alpha=0.4) +
scale_fill_manual(values=c("#999999", "#E69F00", "#56B4E9")) +
theme_classic() + theme(legend.position="top")
```
Vemos que hay mayor densidad de mujeres que tienen ingresos mas bajos

```{r}
#Vamos a ver la relación entre la puntuación verbal y el gasto en el juego por 
#sexos

ggplot(data, aes(x= verbal, y=gamble, color = sex)) + geom_point()+
  theme(legend.position = "top", legend.direction = "horizontal")
         


```
Observamos que para valores de puntuación verbal entre 4 y 8 las mujeres tienen 
un gasto mensual menor en el juego.


2. The dataset uswages is drawn as a sample from the Current Population Survey 
in 1988. Make a numerical and graphical summary of the data as in the previous question.

```{r}
data2 <- uswages
head(data2)

str(data2)

```
```{r}
summary(data2)
```

Vamos a realizar algunas modificaciones para mayor entendimiento de los datos.


```{r}
ggplot(data2, aes(state), width=2)  + geom_bar(aes(fill=race)) + theme_classic()

```

Se puede ver que la proporcion de personas de raza negra y blanca esta muy 
desajustado

```{r}
#Veamos como se distribuye la cantidad de ganancias dependiendo de la raza y de
#la zona

par(mfrow=c(2,1))
data2%>%
ggplot(aes(x = wage, fill = race)) + geom_density(alpha=0.4) +
scale_fill_manual(values=c("#999999", "#E69F00", "#56B4E9")) +
theme_classic() + theme(legend.position="top")

data2%>%
ggplot(aes(x = wage, fill = state)) + geom_density(alpha=0.4) +
scale_fill_manual(values=c("#999999", "#E69F00", "#56B4E9", "#009E73")) +
theme_classic() + theme(legend.position="top")
```

Vemos que hay mayor densidad en cuanto a menor ingresos en la raza negra. A su 
vez, en cuanto a los distritos se mantiene bstante igualado con una densidad 
mayor en menor ingresos en el sur.


